<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../../../favicon.ico">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>

    <title>Apertura de Vuelo</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" type="text/css" href="../css/bootstrap.css">

    <!--  JS a usar para las acciones de Apertura/CheckIn    -->
    <script src="../js/Apertura.js"></script>

    <!-- Custom styles for this template -->
    <link href="form-validation.css" rel="stylesheet">


</head>

<body class="bg-light" ng-app="myApp" ng-controller="appController">

    <!--   Barra de navegacion con boton a home   -->
    <nav class="navbar navbar-expand-md navbar-dark fixed-top " style="background-color: #ed6211">
        <a class="navbar-brand" href="#"><span style="color: #000000">TEC</span>Airlines</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault"
            aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <!--   Boton a home   -->
        <div class="collapse navbar-collapse" id="navbarsExampleDefault">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="#" onclick="location.href = 'Aeropuerto.html'">Home <span
                            class="sr-only">(current)</span></a>
                </li>
            </ul>
        </div>
    </nav>

    <!----------------------------------------------------------------------------------------------------------------------------->
    <!--   Container principal   -->
    <div class="container" style="margin-top: 1%">

        <div class="row-md">
            <form>

                <!--  Container de la seccion de seleccionar vuelo    -->
                <div class="needs-validation" ng-show="seleccionarVuelo" validate>

                    <div class="py-5 text-center">
                        <h2>Confirma un pasajero</h2>
                        <p class="lead">Seleccione el vuelo.</p>
                    </div>

                    <!--   Tabla que contiene todos los datos de los vuelos con boton a hacer check In   -->
                    <table class="table table-striped table-sm">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Origen</th>
                                <th>Destino</th>
                                <th>Fecha</th>
                                <th>Millas</th>
                                <th>Accion</th>
                            </tr>
                        </thead>
                        <tbody>
                        <tbody>
                            <!--   Donde se carga la tabla con los datos de la tabla   -->
                            <tr ng-repeat="vuelo in vuelos">
                                <td>{{vuelo.FLIGHT_ID}}</td>
                                <td>{{vuelo.ORIGIN}}</td>
                                <td>{{vuelo.DESTINATION}}</td>
                                <td>{{vuelo.DATE_HOUR}}</td>
                                <td>{{vuelo.FLIGHT_MILES}}</td>
                                <!--   Boton para seleccionar un vuelo en especifico   -->
                                <td><button class="btn btn-warning" ng-click="apertura(vuelo)">Check In</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!--   Container de la seccion donde se le hace un checkin a un pasajero   -->
                <div class="col-md" ng-show="confirmarPasajero" style="margin-top:10%">
                    <div class="row">

                        <div class="col-md-3">
                            <h1>Vuelo: </h1>
                        </div>
                        <div class="col-md-3">
                            <h2>{{vuelo.FLIGHT_ID}}</h2>
                        </div>
                        <div class="col-md-3">
                            <h1>Millas: </h1>
                        </div>
                        <div class="col-md-3">
                            <h2>{{vuelo.FLIGHT_MILES}}</h2>
                        </div>
                    </div>

                    <div class="mb-3">
                        <!--   Se escribe el numero de resercacion del cliente   -->
                        <label for="NumeroMaletas">ID Reservacion:</label>
                        <div class="input-group">
                            <input type="text" class="form-control" ng-model="vuelo.Reservacion_ID"
                                placeholder="ID Reservacion" ng-change = "traerReservaciones(vuelo)" required>
                            <div class="invalid-feedback" style="width: 100%;">
                                El ID de la reservacion es necesaria.
                            </div>
                        </div>
                    </div>
                    <div class="row">

                        <!--   Boton para hacer check in de un pasajero a un vuelo   -->
                        <div class="col-md-6">
                            <button class="btn btn-warning btn-lg btn-block" style="margin-right:-100%"
                                ng-click="hacerCheckIn(vuelo)">Check In</button>
                        </div>

                        <!--   Boton para agregar las millas a un cliente   -->
                        <div class="col-md-6">
                            <button class="btn btn-warning btn-lg btn-block" style="margin-right:-100%"
                                ng-click="agregarMillas(reservacion,vuelo)">AÃ±adir millas.</button>
                        </div>

                    </div>
                </div>

            </form>
        </div>

        <footer class="my-5 pt-5 text-muted text-center text-small">
            <p class="mb-1">&copy; 2019 TEC Airlines</p>
        </footer>

    </div>
</body>
</html>